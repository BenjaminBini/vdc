---
interface Props {
  title: string;
  description: string;
  iconColor?: 'sage' | 'terracotta' | 'gold' | 'white';
  bg?: 'white' | 'sage' | 'terracotta' | 'gold' | 'cream';
  class?: string;
}

const {
  title,
  description,
  iconColor = 'sage',
  bg = 'white',
  class: className = '',
} = Astro.props;

const bgClasses = {
  white: 'bg-white',
  sage: 'bg-beaucharme-sage',
  terracotta: 'bg-beaucharme-terracotta',
  gold: 'bg-beaucharme-gold',
  cream: 'bg-beaucharme-cream',
};

const iconBgClasses = {
  sage: 'bg-beaucharme-sage/20',
  terracotta: 'bg-beaucharme-terracotta/20',
  gold: 'bg-beaucharme-gold/20',
  white: 'bg-white/20',
};

const iconColorClasses = {
  sage: 'text-beaucharme-sage',
  terracotta: 'text-beaucharme-terracotta',
  gold: 'text-beaucharme-gold',
  white: 'text-white',
};

const isDark = bg === 'sage' || bg === 'terracotta' || bg === 'gold';
const titleColor = isDark ? 'text-white' : 'text-beaucharme-dark';
const descColor = isDark ? 'text-white/80' : 'text-beaucharme-earth/70';
---

<div class:list={[
  'rounded-2xl p-6 shadow-lg flex flex-col items-center justify-center text-center',
  bgClasses[bg],
  className
]}>
  <div class:list={[
    'w-16 h-16 rounded-full flex items-center justify-center mb-4',
    iconBgClasses[iconColor]
  ]}>
    <slot name="icon">
      <svg class:list={['w-8 h-8', iconColorClasses[iconColor]]} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 13l4 4L19 7"/>
      </svg>
    </slot>
  </div>
  <h4 class:list={['font-semibold text-lg', titleColor]}>{title}</h4>
  <p class:list={['text-sm mt-2', descColor]}>{description}</p>
</div>
