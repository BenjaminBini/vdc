---
interface Props {
  title: string;
  description?: string;
  iconColor?: 'sage' | 'terracotta' | 'gold' | 'white';
  iconSize?: 'small' | 'medium' | 'large';
  layout?: 'horizontal' | 'vertical';
  class?: string;
}

const {
  title,
  description,
  iconColor = 'sage',
  iconSize = 'medium',
  layout = 'horizontal',
  class: className = '',
} = Astro.props;

const iconBgClasses = {
  sage: 'bg-beaucharme-sage/20',
  terracotta: 'bg-beaucharme-terracotta/20',
  gold: 'bg-beaucharme-gold/20',
  white: 'bg-white/20',
};

const iconColorClasses = {
  sage: 'text-beaucharme-sage',
  terracotta: 'text-beaucharme-terracotta',
  gold: 'text-beaucharme-gold',
  white: 'text-white',
};

const iconSizeClasses = {
  small: { container: 'w-10 h-10', icon: 'w-5 h-5' },
  medium: { container: 'w-12 h-12', icon: 'w-6 h-6' },
  large: { container: 'w-14 h-14', icon: 'w-7 h-7' },
};

const isWhite = iconColor === 'white';
const titleColor = isWhite ? 'text-white' : 'text-beaucharme-dark';
const descColor = isWhite ? 'text-white/80' : 'text-beaucharme-earth/80';
---

{layout === 'horizontal' ? (
  <div class:list={['flex items-start space-x-4', className]}>
    <div class:list={[
      'rounded-full flex items-center justify-center flex-shrink-0',
      iconSizeClasses[iconSize].container,
      iconBgClasses[iconColor]
    ]}>
      <slot name="icon">
        <svg class:list={[iconSizeClasses[iconSize].icon, iconColorClasses[iconColor]]} fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 13l4 4L19 7"/>
        </svg>
      </slot>
    </div>
    <div>
      <h3 class:list={['font-serif text-xl font-semibold mb-2', titleColor]}>{title}</h3>
      {description && <p class={descColor}><slot>{description}</slot></p>}
      {!description && <slot />}
    </div>
  </div>
) : (
  <div class:list={['text-center', className]}>
    <div class:list={[
      'rounded-full flex items-center justify-center mx-auto mb-4',
      iconSizeClasses[iconSize].container,
      iconBgClasses[iconColor]
    ]}>
      <slot name="icon">
        <svg class:list={[iconSizeClasses[iconSize].icon, iconColorClasses[iconColor]]} fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 13l4 4L19 7"/>
        </svg>
      </slot>
    </div>
    <h3 class:list={['font-serif text-xl font-semibold mb-2', titleColor]}>{title}</h3>
    {description && <p class={descColor}><slot>{description}</slot></p>}
    {!description && <slot />}
  </div>
)}
