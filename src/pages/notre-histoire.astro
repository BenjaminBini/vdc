---
import Layout from '@layouts/Layout.astro';
import Header from '@components/Header.astro';
import Footer from '@components/Footer.astro';
import Newsletter from '@components/Newsletter.astro';
import CartSidebar from '@components/CartSidebar.tsx';
import PageContainer from '@components/PageContainer.astro';
import HeroSection from '@components/HeroSection.astro';
import Section from '@components/Section.astro';
import SectionHeader from '@components/SectionHeader.astro';
import StatBlock from '@components/StatBlock.astro';
import ImageCard from '@components/ImageCard.astro';
import ImageTextCard from '@components/ImageTextCard.astro';
import QuoteCard from '@components/QuoteCard.astro';
import CenteredCallout from '@components/CenteredCallout.astro';
import IconCard from '@components/IconCard.astro';

import farmLandscape from '@images/farm-landscape.jpg';
import founders from '@images/founders.jpg';
import fleursBourrache from '@images/fleurs-bourrache.jpg';

const baseUrl = import.meta.env.BASE_URL;
---

<Layout title="Notre Histoire" description="Découvrez l'histoire de Beaucharme Cosmétique, deux agriculteurs bourguignons passionnés par les cosmétiques naturels.">
  <PageContainer>
    <Header />

    <HeroSection
      image={farmLandscape}
      alt="La ferme de Beaucharme près de Vézelay"
      tagline="Qui sommes-nous ?"
      title="Notre Histoire"
      subtitle="De la terre bourguignonne aux cosmétiques naturels"
      height="medium"
    />

    <!-- Les Fondateurs -->
    <Section bg="transparent" padding="none" card={false}>
      <ImageTextCard
        image={founders}
        alt="Les fondateurs de Beaucharme dans leur ferme"
        badge={{ text: "Les fondateurs", color: "terracotta" }}
        title="Deux agriculteurs, une passion"
      >
        <p>
          Nous sommes deux agriculteurs bourguignons installés près de Vézelay depuis plus de 15 ans.
          Notre ferme, nichée au cœur de paysages préservés, est le berceau de Beaucharme Cosmétique.
        </p>
        <p>
          Tout a commencé par une envie simple : valoriser nos cultures de plantes rares et créer
          des produits cosmétiques authentiques, à l'image de notre philosophie paysanne. Pas de
          compromis sur la qualité, pas de promesses marketing exagérées. Juste la vérité du produit.
        </p>
        <p>
          Avec Beaucharme, nous avons voulu faire le pont entre la tradition et la modernité. Nos
          mains travaillent la terre, cultivent les plantes, distillent les essences et formulent
          les soins. De la graine au flacon, tout est pensé, créé et contrôlé ici, dans notre ferme.
        </p>
      </ImageTextCard>
    </Section>

    <!-- La Ferme - Block Layout -->
    <Section bg="transparent" card={false} padding="small">
      <div class="container-custom">
        <SectionHeader
          tagline="Notre terroir"
          title="La ferme près de Vézelay"
        />

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <ImageCard
            image={farmLandscape}
            alt="Champs de lavande"
            title="Nos champs de plantes"
            subtitle="Des hectares de cultures biologiques en Bourgogne"
            class="lg:col-span-2 h-72 md:h-80"
          />

          <StatBlock
            value="15+"
            label="années d'expérience"
            sublabel="Agriculteurs passionnés depuis plus de 15 ans près de Vézelay."
            bg="sage"
          />

          <QuoteCard
            quote="Notre ferme, c'est notre laboratoire à ciel ouvert. Chaque plante a sa place, son histoire."
            attribution="Les fondateurs"
          />

          <ImageCard
            image={fleursBourrache}
            alt="Fleurs de bourrache"
            class="h-64 shadow-xl"
            overlay="none"
          />

          <div class="bg-beaucharme-cream rounded-2xl p-8 shadow-lg flex flex-col justify-center">
            <h4 class="font-serif text-xl font-semibold text-beaucharme-dark mb-3">Plantes cultivées</h4>
            <ul class="space-y-2 text-beaucharme-earth/80 text-sm">
              <li class="flex items-center gap-2">
                <span class="w-2 h-2 rounded-full bg-beaucharme-sage"></span>
                Bourrache, Cameline, Carthame
              </li>
              <li class="flex items-center gap-2">
                <span class="w-2 h-2 rounded-full bg-beaucharme-terracotta"></span>
                Chanvre, Tournesol
              </li>
              <li class="flex items-center gap-2">
                <span class="w-2 h-2 rounded-full bg-beaucharme-gold"></span>
                Lavandin, Sauge sclarée
              </li>
              <li class="flex items-center gap-2">
                <span class="w-2 h-2 rounded-full bg-beaucharme-sage"></span>
                Camomille, Menthe poivrée
              </li>
            </ul>
          </div>
        </div>
      </div>
    </Section>

    <!-- CTA vers De la fleur au flacon -->
    <Section bg="sage" card={true} padding="normal">
      <CenteredCallout
        tagline="Notre savoir-faire"
        title="De la fleur au flacon"
        description="Découvrez comment nous transformons nos plantes cultivées avec soin en cosmétiques naturels d'exception."
        button={{
          text: "Découvrir notre processus",
          href: `${baseUrl}/de-la-fleur-au-flacon`
        }}
      />
    </Section>

    <!-- Certifications - Block Layout -->
    <Section bg="transparent" card={false} padding="small">
      <div class="container-custom">
        <SectionHeader
          tagline="Nos certifications"
          title="L'exigence au service de la qualité"
        />

        <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
          <div class="md:col-span-2 bg-beaucharme-terracotta rounded-2xl p-8 md:p-10 flex flex-col justify-center text-white shadow-lg">
            <h3 class="font-serif text-3xl font-semibold mb-4">Prêt à découvrir nos produits ?</h3>
            <p class="text-white/80 mb-6">Chaque flacon raconte notre histoire. Découvrez nos cosmétiques naturels créés avec passion.</p>
            <a href={`${baseUrl}/boutique`} class="inline-block bg-white text-beaucharme-terracotta px-8 py-3 rounded-full font-semibold hover:bg-beaucharme-cream transition-colors w-fit">
              Découvrir la boutique
            </a>
          </div>

          <IconCard
            title="Certifié COSMOS"
            description="Cosmétique bio certifié"
            iconColor="sage"
            bg="white"
            shadow={true}
            padding="md"
            iconSize="xl"
          >
            <svg slot="icon" class="w-8 h-8 text-beaucharme-sage" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"/>
            </svg>
          </IconCard>

          <IconCard
            title="Agriculture Bio"
            description="Cultures biologiques"
            iconColor="gold"
            bg="white"
            shadow={true}
            padding="md"
            iconSize="xl"
          >
            <svg slot="icon" class="w-8 h-8 text-beaucharme-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/>
            </svg>
          </IconCard>

          <IconCard
            title="Éco-conception"
            description="Packaging recyclable"
            iconColor="white"
            bg="sage"
            shadow={true}
            padding="md"
            iconSize="xl"
          >
            <svg slot="icon" class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
            </svg>
          </IconCard>

          <IconCard
            title="Made in France"
            description="Fabriqué en Bourgogne"
            iconColor="terracotta"
            bg="white"
            shadow={true}
            padding="md"
            iconSize="xl"
          >
            <svg slot="icon" class="w-8 h-8 text-beaucharme-terracotta" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
            </svg>
          </IconCard>

          <div class="bg-beaucharme-gold rounded-2xl p-6 shadow-lg flex flex-col justify-center text-white">
            <h4 class="font-serif text-xl font-semibold mb-2">Visitez notre ferme</h4>
            <p class="text-white/80 text-sm mb-4">Venez découvrir nos cultures et notre processus de fabrication.</p>
            <a href={`${baseUrl}/contact`} class="text-sm font-medium hover:underline inline-flex items-center">
              Nous contacter
              <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
              </svg>
            </a>
          </div>
        </div>
      </div>
    </Section>

    <Newsletter />
    <Footer />
    <CartSidebar client:load />
  </PageContainer>
</Layout>
