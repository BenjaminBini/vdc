---
import type { ImageMetadata } from 'astro';
import Layout from '@layouts/Layout.astro';
import Header from '@components/Header.astro';
import Footer from '@components/Footer.astro';
import PageContainer from '@components/PageContainer.astro';
import CartSidebar from '@components/CartSidebar.tsx';
import HeroCard from '@components/HeroCard.astro';
import BentoTitleCard from '@components/BentoTitleCard.astro';
import BentoCTACard from '@components/BentoCTACard.astro';

import huilesVegetales from '@images/huiles-vegetales.jpg';
import huilesSoin from '@images/huiles-soin.jpg';
import savons from '@images/savons.jpg';
import cremesMains from '@images/cremes-mains.jpg';
import eauxFlorales from '@images/eaux-florales.jpg';

const baseUrl = import.meta.env.BASE_URL;

const categories: { id: string; name: string; tagline: string; image: ImageMetadata | string }[] = [
  {
    id: 'huiles-vegetales',
    name: 'Huiles végétales',
    tagline: 'Pressées à froid',
    image: huilesVegetales,
  },
  {
    id: 'huiles-soin',
    name: 'Huiles de soin',
    tagline: 'Formulations signature',
    image: huilesSoin,
  },
  {
    id: 'savons',
    name: 'Savons surgras',
    tagline: 'Saponification à froid',
    image: savons,
  },
  {
    id: 'cremes-mains',
    name: 'Crèmes mains',
    tagline: 'Sans eau, 100% actifs',
    image: cremesMains,
  },
  {
    id: 'eaux-florales',
    name: 'Eaux florales',
    tagline: 'Distillation artisanale',
    image: eauxFlorales,
  },
  {
    id: 'coffrets',
    name: 'Coffrets',
    tagline: "L'art d'offrir",
    image: '/images/products/a9634353-73b2-4a82-ad73-e4cf12e409d9-0_1.webp',
  },
];

// Grid classes for bento layout (6 categories)
const gridClasses = [
  'sm:col-span-2 md:row-span-2',  // huiles-vegetales - large
  'sm:col-span-2 md:col-span-2',  // huiles-soin
  'sm:col-span-2 md:col-span-2',  // savons
  'sm:col-span-2 md:col-span-2',  // cremes-mains
  'sm:col-span-2 md:row-span-2',  // eaux-florales - large
  'sm:col-span-2 md:col-span-2',  // coffrets
];
---

<Layout title="Nos Produits" description="Découvrez nos catégories de produits cosmétiques naturels : huiles végétales, savons surgras, crèmes mains, eaux florales et coffrets cadeaux.">
  <PageContainer>
    <Header />

    <!-- Bento Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-6 gap-3 md:gap-4">
      <BentoTitleCard
      bg="sage"
        tagline="Nos produits"
        title="De la terre à votre peau"
        description="Cosmétiques nat  urels créés avec passion, de la graine au flacon."
        class="sm:col-span-2"
      />

      {categories.map((category, index) => (
        <HeroCard
          href={`${baseUrl}/nos-produits/${category.id}`}
          media={category.image}
          alt={category.name}
          class={`min-h-[200px] ${gridClasses[index]}`}
        >
          <div class="absolute inset-0 bg-gradient-to-t from-beaucharme-dark/80 via-beaucharme-dark/20 to-transparent" />
          <div class="absolute inset-0 p-5 md:p-6 flex flex-col justify-end">
            <span class="text-white/60 text-xs uppercase tracking-wider">{category.tagline}</span>
            <h3 class="font-serif text-xl md:text-2xl font-semibold text-white mt-1">{category.name}</h3>
          </div>
        </HeroCard>
      ))}

      <BentoCTACard
        title="Prêt à commander ?"
        description="Retrouvez tous nos produits dans notre boutique en ligne."
        buttonText="Accéder à la boutique"
        buttonHref={`${baseUrl}/boutique`}
        class="sm:col-span-2"
      />
    </div>

    <Footer />
    <CartSidebar client:load />
  </PageContainer>
</Layout>
